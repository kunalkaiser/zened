<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ZenEd â€” Your grades. Your plan. Your future.</title>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=Fraunces:ital,wght@0,900;1,900&display=swap" rel="stylesheet">
<style>
:root{
  --teal:#0ea87a;--teal-dark:#0b8f68;--teal-light:#e6f7f2;
  --black:#0d0d0d;--white:#fff;--cream:#f0f7ff;
  --gray:#64748b;--gray-light:#f1f5f9;--border:#e2e8f0;
  --red:#ef4444;--yellow:#f59e0b;--green:#10b981;
}
*{margin:0;padding:0;box-sizing:border-box;}
html{scroll-behavior:smooth;}
body{font-family:'Plus Jakarta Sans',sans-serif;background:var(--cream);color:var(--black);min-height:100vh;-webkit-font-smoothing:antialiased;}

/* â”€â”€ NAV â”€â”€ */
nav{padding:0 32px;height:56px;display:flex;align-items:center;justify-content:space-between;background:rgba(255,255,255,0.95);backdrop-filter:blur(12px);border-bottom:1px solid var(--border);position:sticky;top:0;z-index:100;}
.logo{display:flex;align-items:center;gap:9px;text-decoration:none;color:var(--black);}
.logo-ico{width:30px;height:30px;background:linear-gradient(135deg,#0ea87a,#076b4f);border-radius:8px;display:flex;align-items:center;justify-content:center;}
.logo-word{font-weight:800;font-size:18px;letter-spacing:-0.4px;}
.logo-word em{color:var(--teal);font-style:normal;}
.nav-right{display:flex;gap:8px;align-items:center;}
.nav-link{font-size:13px;font-weight:600;color:var(--gray);text-decoration:none;padding:6px 12px;border-radius:8px;transition:all 0.2s;}
.nav-link:hover{color:var(--black);background:var(--gray-light);}
.nav-signin{font-size:13px;font-weight:700;color:var(--black);background:white;border:1.5px solid var(--border);padding:7px 16px;border-radius:20px;text-decoration:none;transition:all 0.2s;}
.nav-signin:hover{border-color:var(--black);}

/* â”€â”€ HERO â”€â”€ */
.hero{text-align:center;padding:52px 24px 40px;max-width:640px;margin:0 auto;}
@keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
.hero-badge{display:inline-flex;align-items:center;gap:6px;background:white;border:1px solid var(--border);padding:5px 14px;border-radius:20px;font-size:12px;font-weight:700;color:var(--gray);margin-bottom:20px;animation:fadeUp 0.4s ease;}
.hero-badge-dot{width:7px;height:7px;background:var(--teal);border-radius:50%;flex-shrink:0;}
.hero-title{font-family:'Fraunces',serif;font-size:clamp(42px,9vw,64px);font-weight:900;line-height:1.0;letter-spacing:-2.5px;margin-bottom:16px;animation:fadeUp 0.4s 0.05s ease both;}
.hero-title em{font-style:italic;color:var(--teal);}
.hero-sub{font-size:16px;color:var(--gray);line-height:1.7;margin-bottom:0;animation:fadeUp 0.4s 0.1s ease both;}

/* â”€â”€ STEP LABEL â”€â”€ */
.step-label{text-align:center;font-size:12px;font-weight:700;text-transform:uppercase;letter-spacing:1.5px;color:var(--teal);margin:32px 0 14px;}

/* â”€â”€ GOAL CARDS â”€â”€ */
.goal-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;max-width:560px;margin:0 auto 28px;animation:fadeUp 0.4s 0.15s ease both;}
.goal-card{background:white;border:2px solid var(--border);border-radius:18px;padding:22px 18px;cursor:pointer;transition:all 0.2s;text-align:left;position:relative;overflow:hidden;}
.goal-card:hover{border-color:var(--teal);transform:translateY(-2px);box-shadow:0 6px 24px rgba(14,168,122,0.12);}
.goal-card.selected{border-color:var(--teal);background:var(--teal-light);}
.goal-card-check{position:absolute;top:14px;right:14px;width:22px;height:22px;background:var(--teal);border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-size:11px;font-weight:700;opacity:0;transition:opacity 0.2s;}
.goal-card.selected .goal-card-check{opacity:1;}
.goal-icon{font-size:28px;margin-bottom:10px;display:block;}
.goal-title{font-size:15px;font-weight:800;color:var(--black);margin-bottom:4px;letter-spacing:-0.2px;}
.goal-desc{font-size:12px;color:var(--gray);line-height:1.5;}

/* â”€â”€ CTA BUTTON â”€â”€ */
.cta-wrap{text-align:center;animation:fadeUp 0.4s 0.2s ease both;}
.btn-go{display:inline-flex;align-items:center;gap:10px;background:var(--teal);color:white;padding:15px 36px;border-radius:16px;font-size:16px;font-weight:800;cursor:pointer;border:none;font-family:'Plus Jakarta Sans',sans-serif;transition:all 0.2s;box-shadow:0 4px 20px rgba(14,168,122,0.35);}
.btn-go:hover{background:var(--teal-dark);transform:translateY(-1px);}
.btn-go:disabled{opacity:0.35;cursor:not-allowed;transform:none;box-shadow:none;}
.cta-note{font-size:12px;color:var(--gray);margin-top:10px;}

/* â”€â”€ DIVIDER â”€â”€ */
.divider{max-width:560px;margin:0 auto;height:1px;background:var(--border);}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SCREENS (animated in/out)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.flow-section{max-width:600px;margin:0 auto;padding:0 20px;}
@keyframes slideIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.flow-screen{display:none;animation:slideIn 0.3s ease;}
.flow-screen.active{display:block;}

/* â”€â”€ PROGRESS â”€â”€ */
.progress-wrap{margin-bottom:24px;}
.progress-bar{height:4px;background:var(--border);border-radius:4px;overflow:hidden;}
.progress-fill{height:100%;background:var(--teal);border-radius:4px;transition:width 0.4s ease;}
.progress-label{font-size:12px;color:var(--gray);margin-top:6px;font-weight:600;}

/* â”€â”€ SUBJECT GRID â”€â”€ */
.subj-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:10px;margin-bottom:24px;}
.subj-card{background:white;border:2px solid var(--border);border-radius:14px;padding:16px;cursor:pointer;transition:all 0.2s;text-align:left;position:relative;}
.subj-card:hover{border-color:var(--teal);}
.subj-card.selected{border-color:var(--teal);background:var(--teal-light);}
.subj-card-check{position:absolute;top:10px;right:10px;width:18px;height:18px;background:var(--teal);border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-size:10px;opacity:0;transition:opacity 0.2s;}
.subj-card.selected .subj-card-check{opacity:1;}
.subj-icon{font-size:22px;margin-bottom:6px;}
.subj-name{font-size:13px;font-weight:700;}

/* â”€â”€ SCORE INPUT â”€â”€ */
.score-wrap{background:white;border-radius:20px;border:1.5px solid var(--border);padding:28px;margin-bottom:20px;}
.score-subj-name{font-size:20px;font-weight:800;margin-bottom:4px;letter-spacing:-0.3px;}
.score-counter{font-size:13px;color:var(--gray);margin-bottom:20px;}
.score-input{width:100%;font-size:56px;font-weight:800;text-align:center;border:none;outline:none;color:var(--black);font-family:'Fraunces',serif;background:transparent;margin-bottom:8px;}
.score-hint{text-align:center;font-size:12px;color:var(--gray);margin-bottom:20px;}
.quickpicks{display:flex;gap:8px;justify-content:center;flex-wrap:wrap;}
.qp{padding:8px 16px;border:1.5px solid var(--border);border-radius:20px;font-size:13px;font-weight:700;cursor:pointer;background:white;font-family:'Plus Jakarta Sans',sans-serif;transition:all 0.15s;color:var(--gray);}
.qp:hover{border-color:var(--teal);color:var(--teal);}
.qp.on{background:var(--teal);color:white;border-color:var(--teal);}

/* â”€â”€ RESULT CARDS â”€â”€ */
.rcard{display:flex;align-items:center;justify-content:space-between;background:white;border-radius:14px;padding:16px 20px;margin-bottom:10px;border-left:4px solid var(--border);}
.rcard.green{border-left-color:var(--green);background:#f0fdf4;}
.rcard.yellow{border-left-color:var(--yellow);background:#fffbeb;}
.rcard.red{border-left-color:var(--red);background:#fff1f2;}
.rcard-subj{font-size:15px;font-weight:800;margin-bottom:3px;}
.rcard-status{font-size:12px;font-weight:700;margin-bottom:2px;}
.rcard.green .rcard-status{color:var(--green);}
.rcard.yellow .rcard-status{color:var(--yellow);}
.rcard.red .rcard-status{color:var(--red);}
.rcard-action{font-size:12px;color:var(--gray);}
.rcard-score{font-family:'Fraunces',serif;font-size:36px;font-weight:900;opacity:0.15;flex-shrink:0;}
.rcard.green .rcard-score{color:var(--green);opacity:1;}
.rcard.yellow .rcard-score{color:var(--yellow);opacity:1;}
.rcard.red .rcard-score{color:var(--red);opacity:1;}

/* â”€â”€ RESULT HERO â”€â”€ */
.result-hero{text-align:center;margin-bottom:24px;}
.result-emoji{font-size:48px;margin-bottom:8px;}
.result-title{font-family:'Fraunces',serif;font-size:26px;font-weight:900;letter-spacing:-0.5px;margin-bottom:6px;}
.result-sub{font-size:14px;color:var(--gray);line-height:1.6;}

/* â”€â”€ PANELS â”€â”€ */
.panel{background:white;border-radius:16px;border:1.5px solid var(--border);padding:20px;margin-bottom:14px;}
.panel-title{font-size:14px;font-weight:800;margin-bottom:14px;letter-spacing:-0.2px;}
.study-item{display:flex;gap:10px;margin-bottom:12px;align-items:flex-start;}
.sdot{width:10px;height:10px;border-radius:50%;flex-shrink:0;margin-top:4px;}
.sdot.red{background:var(--red);}
.sdot.yellow{background:var(--yellow);}
.sdot.green{background:var(--green);}
.study-name{font-size:13px;font-weight:700;margin-bottom:3px;}
.study-link{font-size:12px;color:var(--teal);font-weight:600;text-decoration:none;}
.study-link:hover{text-decoration:underline;}

/* â”€â”€ RESOURCE BROWSER â”€â”€ */
.res-browser{background:white;border-radius:20px;border:1.5px solid var(--border);overflow:hidden;margin-bottom:14px;}
.res-browser-head{display:flex;align-items:center;justify-content:space-between;padding:18px 20px 0;}
.res-browser-label{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--teal);margin-bottom:3px;}
.res-browser-title{font-size:17px;font-weight:800;letter-spacing:-0.3px;}
.res-see-all{font-size:13px;font-weight:700;color:var(--teal);text-decoration:none;white-space:nowrap;flex-shrink:0;}
.res-pills{display:flex;gap:6px;overflow-x:auto;padding:12px 20px 0;scrollbar-width:none;}
.res-pills::-webkit-scrollbar{display:none;}
.res-pill{padding:5px 13px;border-radius:20px;font-size:12px;font-weight:700;cursor:pointer;border:1.5px solid var(--border);background:white;color:var(--gray);white-space:nowrap;font-family:'Plus Jakarta Sans',sans-serif;transition:all 0.15s;flex-shrink:0;}
.res-pill:hover{border-color:var(--black);color:var(--black);}
.res-pill.active{background:var(--black);color:white;border-color:var(--black);}
.res-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;padding:12px 20px;}
.rc{background:var(--cream);border-radius:12px;padding:13px;text-decoration:none;color:var(--black);display:block;transition:all 0.15s;border:1.5px solid transparent;}
.rc:hover{border-color:var(--teal);background:var(--teal-light);}
.rc-icon{font-size:20px;margin-bottom:6px;}
.rc-name{font-size:12px;font-weight:700;line-height:1.3;margin-bottom:5px;}
.rc-tags{display:flex;gap:4px;flex-wrap:wrap;}
.rc-tag{font-size:10px;font-weight:700;padding:2px 7px;border-radius:20px;}
.rc-tag.free{background:#e6f7f2;color:#0b8f68;}
.rc-tag.paid{background:#fef3c7;color:#b45309;}
.rc-tag.stem{background:#eff6ff;color:#2563eb;}
.rc-tag.hot{background:#fff1f2;color:#dc2626;}
.res-full-btn{display:block;margin:0 20px 18px;padding:11px;text-align:center;background:var(--black);color:white;border-radius:11px;font-size:13px;font-weight:700;text-decoration:none;transition:all 0.2s;}
.res-full-btn:hover{background:#1e1e1e;}

/* â”€â”€ SAVE CTA (sign-up moment) â”€â”€ */
.save-cta{background:var(--black);border-radius:20px;padding:32px 28px;text-align:center;color:white;margin-bottom:14px;position:relative;overflow:hidden;}
.save-cta::before{content:'';position:absolute;top:-40px;right:-40px;width:160px;height:160px;background:rgba(14,168,122,0.12);border-radius:50%;}
.save-cta-badge{display:inline-block;background:rgba(14,168,122,0.2);color:#6ee7b7;font-size:11px;font-weight:700;padding:4px 12px;border-radius:20px;margin-bottom:12px;letter-spacing:0.5px;text-transform:uppercase;}
.save-cta h2{font-family:'Fraunces',serif;font-size:24px;font-weight:900;margin-bottom:8px;letter-spacing:-0.5px;position:relative;}
.save-cta p{font-size:13px;color:#94a3b8;line-height:1.7;margin-bottom:22px;position:relative;}
.save-benefits{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:22px;text-align:left;}
.save-benefit{background:rgba(255,255,255,0.06);border-radius:10px;padding:10px 12px;font-size:12px;color:#cbd5e1;display:flex;align-items:center;gap:8px;}
.save-benefit-icon{font-size:16px;flex-shrink:0;}
.btn-signup{display:block;background:var(--teal);color:white;padding:14px 28px;border-radius:12px;font-size:15px;font-weight:800;text-decoration:none;margin-bottom:10px;transition:all 0.2s;position:relative;}
.btn-signup:hover{background:var(--teal-dark);}
.btn-skip{font-size:12px;color:#64748b;text-decoration:none;transition:color 0.2s;}
.btn-skip:hover{color:#94a3b8;}

/* â”€â”€ NAV ACTIONS â”€â”€ */
.btn-back-flow{display:flex;align-items:center;gap:6px;background:none;border:none;cursor:pointer;font-family:'Plus Jakarta Sans',sans-serif;font-size:13px;font-weight:600;color:var(--gray);padding:0;margin-bottom:20px;transition:color 0.2s;}
.btn-back-flow:hover{color:var(--black);}
.btn-next{display:inline-flex;align-items:center;gap:8px;background:var(--teal);color:white;padding:13px 28px;border-radius:12px;font-size:15px;font-weight:800;cursor:pointer;border:none;font-family:'Plus Jakarta Sans',sans-serif;transition:all 0.2s;box-shadow:0 4px 16px rgba(14,168,122,0.3);}
.btn-next:hover{background:var(--teal-dark);}
.btn-next:disabled{opacity:0.35;cursor:not-allowed;box-shadow:none;}

/* â”€â”€ FOOTER â”€â”€ */
footer{padding:28px 32px;border-top:1px solid var(--border);background:white;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:14px;margin-top:60px;}
.footer-links{display:flex;gap:18px;}
.footer-links a{font-size:12px;color:var(--gray);text-decoration:none;}
.footer-links a:hover{color:var(--black);}

/* â”€â”€ MOBILE â”€â”€ */
@media(max-width:560px){
  .goal-grid,.save-benefits{grid-template-columns:1fr;}
  .res-grid{grid-template-columns:1fr;}
  nav{padding:0 16px;}
  .hero{padding:36px 16px 28px;}
}

.btn-support-nav{display:inline-flex;align-items:center;gap:6px;background:#FFDD00;color:#000;font-size:12px;font-weight:800;padding:6px 14px;border-radius:20px;text-decoration:none;transition:all 0.2s;white-space:nowrap;box-shadow:0 2px 8px rgba(0,0,0,0.1);}
.btn-support-nav:hover{background:#f5d000;transform:translateY(-1px);}
</style>
</head>
<body>

<!-- NAV -->
<nav>
  <a href="#" class="logo" onclick="resetFlow();return false;">
    <div class="logo-ico"><svg viewBox="0 0 24 24" fill="none" width="14" height="14"><path d="M12 3L4 8V16L12 21L20 16V8L12 3Z" stroke="white" stroke-width="1.5" stroke-linejoin="round"/><path d="M8 11L12 15L16 11" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 7V15" stroke="white" stroke-width="1.5" stroke-linecap="round"/></svg></div>
    <span class="logo-word">Zen<em>Ed</em></span>
  </a>
  <div class="nav-right">
    <a href="resources.html" class="nav-link">Resources</a>
    <a href="mission.html" class="nav-link">Mission</a>
    <a href="app.html" class="nav-signin">Sign in</a>
  </div>
</nav>

<!-- â•â• SCREEN 1: HERO + GOAL CARDS â•â• -->
<div id="s1">
  <div class="hero">
    <div class="hero-badge"><span class="hero-badge-dot"></span>Free for every high school student Â· NYC & beyond</div>
    <h1 class="hero-title">Your grades.<br>Your <em>plan.</em><br>Your future.</h1>
    <p class="hero-sub">Pick what you need â€” get instant answers. No login, no wait.</p>
  </div>

  <div class="flow-section">
    <div class="step-label">What do you need help with?</div>
    <div class="goal-grid">
      <button class="goal-card" id="gc-regents" onclick="toggleGoal('regents',this)">
        <div class="goal-card-check">âœ“</div>
        <span class="goal-icon">ğŸ“</span>
        <div class="goal-title">Passing my Regents</div>
        <div class="goal-desc">Check if you'll pass and get a study plan for tonight</div>
      </button>
      <button class="goal-card" id="gc-summer" onclick="toggleGoal('summer',this)">
        <div class="goal-card-check">âœ“</div>
        <span class="goal-icon">ğŸ—‚ï¸</span>
        <div class="goal-title">All resources</div>
        <div class="goal-desc">Internships, scholarships, SAT prep, science labs & more</div>
      </button>
      <button class="goal-card" id="gc-college" onclick="toggleGoal('college',this)">
        <div class="goal-card-check">âœ“</div>
        <span class="goal-icon">ğŸ“</span>
        <div class="goal-title">College prep</div>
        <div class="goal-desc">CUNY free tuition, FAFSA, scholarships explained</div>
      </button>
      <button class="goal-card" id="gc-tutoring" onclick="toggleGoal('tutoring',this)">
        <div class="goal-card-check">âœ“</div>
        <span class="goal-icon">ğŸ“š</span>
        <div class="goal-title">Tutoring & resume</div>
        <div class="goal-desc">Free tutors + resume builder for no experience</div>
      </button>
    </div>
    <div class="cta-wrap">
      <button class="btn-go" id="startBtn" onclick="startFlow()" disabled>Let's go â†’</button>
      <div class="cta-note">No account needed Â· Results in 30 seconds Â· Free</div>
    </div>
  </div>
</div>

<!-- â•â• SCREEN 2: SUBJECT PICKER â•â• -->
<div class="flow-screen" id="s2">
  <div class="flow-section" style="padding-top:32px">
    <button class="btn-back-flow" onclick="goTo('s1')">â† Back</button>
    <div class="progress-wrap">
      <div class="progress-bar"><div class="progress-fill" style="width:25%"></div></div>
      <div class="progress-label">Step 1 of 3 â€” Pick your subject</div>
    </div>
    <div class="step-label">Which Regents are you taking?</div>
    <div class="subj-grid" id="subjGrid">
      <button class="subj-card" onclick="toggleSubj('biology',this)">
        <div class="subj-card-check">âœ“</div>
        <div class="subj-icon">ğŸ§¬</div>
        <div class="subj-name">Biology</div>
      </button>
      <button class="subj-card" onclick="toggleSubj('algebra',this)">
        <div class="subj-card-check">âœ“</div>
        <div class="subj-icon">ğŸ“</div>
        <div class="subj-name">Algebra 1</div>
      </button>
      <button class="subj-card" onclick="toggleSubj('ela',this)">
        <div class="subj-card-check">âœ“</div>
        <div class="subj-icon">ğŸ“–</div>
        <div class="subj-name">English ELA</div>
      </button>
      <button class="subj-card" onclick="toggleSubj('us_history',this)">
        <div class="subj-card-check">âœ“</div>
        <div class="subj-icon">ğŸ‡ºğŸ‡¸</div>
        <div class="subj-name">US History</div>
      </button>
      <button class="subj-card" onclick="toggleSubj('shsat',this)">
        <div class="subj-card-check">âœ“</div>
        <div class="subj-icon">ğŸ«</div>
        <div class="subj-name">SHSAT Prep</div>
      </button>
    </div>
    <div style="text-align:center">
      <button class="btn-next" id="s2Next" onclick="goS2b()" disabled>Pick units â†’</button>
    </div>
  </div>
</div>

<!-- â•â• SCREEN 2b: UNIT PICKER â•â• -->
<div class="flow-screen" id="s2b">
  <div class="flow-section" style="padding-top:32px">
    <button class="btn-back-flow" onclick="goTo('s2')">â† Back</button>
    <div class="progress-wrap">
      <div class="progress-bar"><div class="progress-fill" style="width:50%"></div></div>
      <div class="progress-label" id="s2bLabel">Step 2 of 3 â€” Which units have you covered?</div>
    </div>
    <div class="step-label" id="s2bTitle"></div>
    <p style="font-size:13px;color:var(--gray);text-align:center;margin-bottom:16px">Pick the units you've been tested on or have grades for.</p>
    <div class="subj-grid" id="unitGrid"></div>
    <div style="text-align:center">
      <button class="btn-next" id="s2bNext" onclick="goS3()" disabled>Enter grades â†’</button>
    </div>
  </div>
</div>

<!-- â•â• SCREEN 3: GRADE INPUT â•â• -->
<div class="flow-screen" id="s3">
  <div class="flow-section" style="padding-top:32px">
    <button class="btn-back-flow" onclick="prevUnit()">â† Back</button>
    <div class="progress-wrap">
      <div class="progress-bar"><div class="progress-fill" id="pFill" style="width:75%"></div></div>
      <div class="progress-label" id="s3Sub">Step 3 of 3</div>
    </div>
    <div id="s3Card"></div>
    <div style="display:flex;justify-content:space-between;align-items:center;gap:12px">
      <button class="btn-back-flow" id="backBtn" onclick="prevUnit()" style="visibility:hidden">â† Previous</button>
      <button class="btn-next" id="s3Next" onclick="nextUnit()">Next â†’</button>
    </div>
  </div>
</div>

<!-- â•â• SCREEN 4: RESULTS â•â• -->
<div class="flow-screen" id="s4">
  <div class="flow-section" style="padding-top:32px;padding-bottom:60px">
    <button class="btn-back-flow" onclick="goTo('s1');resetFlow()">â† Start over</button>

    <!-- Regents results -->
    <div id="regentsResults">
      <div class="result-hero">
        <div class="result-emoji" id="rEmoji"></div>
        <div class="result-title" id="rTitle"></div>
        <div class="result-sub" id="rSub"></div>
      </div>
      <div id="rCards" style="margin-bottom:14px"></div>
      <div class="panel" id="studyPanel">
        <div class="panel-title">ğŸ“– Study these tonight</div>
        <div id="studyItems"></div>
      </div>
    </div>

    <!-- Resource browser (always shown) -->
    <div class="res-browser">
      <div class="res-browser-head">
        <div>
          <div class="res-browser-label">ğŸ“š Resources for you</div>
          <div class="res-browser-title">Find your next opportunity</div>
        </div>
        <a href="resources.html" class="res-see-all">See all â†’</a>
      </div>
      <div class="res-pills" id="resPills">
        <button class="res-pill active" onclick="filterRes('all',this)">All</button>
        <button class="res-pill" onclick="filterRes('internship',this)">â˜€ï¸ Internships</button>
        <button class="res-pill" onclick="filterRes('scholarship',this)">ğŸ† Scholarships</button>
        <button class="res-pill" onclick="filterRes('sat',this)">ğŸ“ SAT/ACT</button>
        <button class="res-pill" onclick="filterRes('college',this)">ğŸ“ College</button>
        <button class="res-pill" onclick="filterRes('study',this)">ğŸ“š Self-Study</button>
        <button class="res-pill" onclick="filterRes('graduate',this)">ğŸ… Graduation</button>
      </div>
      <div class="res-grid" id="resGrid"></div>
      <a href="resources.html" class="res-full-btn">Browse all 26+ resources on ZenEd â†’</a>
    </div>

    <!-- SIGN-UP MOMENT â€” shown after they've gotten value -->
    <div class="save-cta">
      <div class="save-cta-badge">âœ¨ Save your progress</div>
      <h2>Track everything in one place</h2>
      <p>Create a free account to save your results, get a daily study plan, and never miss an internship deadline.</p>
      <div class="save-benefits">
        <div class="save-benefit"><span class="save-benefit-icon">ğŸ“Š</span>Watch your readiness score improve week by week</div>
        <div class="save-benefit"><span class="save-benefit-icon">ğŸ¯</span>Daily 15-min study plan built for your weak topics</div>
        <div class="save-benefit"><span class="save-benefit-icon">â°</span>Internship deadline alerts so you never miss SYEP</div>
        <div class="save-benefit"><span class="save-benefit-icon">ğŸ“</span>Teacher can see your readiness â€” not your grades</div>
      </div>
      <a href="app.html?from=quickcheck" class="btn-signup">Create free account â†’</a>
      <a href="resources.html" class="btn-skip">Just browse resources â†’</a>
    </div>

  </div>
</div>

<!-- FOOTER -->
<footer>
  <a href="#" class="logo" onclick="resetFlow();return false;">
    <div class="logo-ico" style="width:26px;height:26px;border-radius:7px"><svg viewBox="0 0 24 24" fill="none" width="13" height="13"><path d="M12 3L4 8V16L12 21L20 16V8L12 3Z" stroke="white" stroke-width="1.5" stroke-linejoin="round"/><path d="M8 11L12 15L16 11" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 7V15" stroke="white" stroke-width="1.5" stroke-linecap="round"/></svg></div>
    <span class="logo-word" style="font-size:16px">Zen<em>Ed</em></span>
  </a>
  <div class="footer-links">
    <a href="mission.html">Mission</a>
    <a href="resources.html">Resources</a>
    <a href="terms.html">Terms</a>
    <a href="privacy.html">Privacy</a>
  </div>
  <div style="font-size:12px;color:#bbb">Â© 2026 ZenEd Â· Always free</div>
<div style="text-align:center;margin:16px 0 4px;width:100%;">
  <a href="https://buymeacoffee.com/zened" target="_blank" style="display:inline-flex;align-items:center;gap:8px;background:#FFDD00;color:#000;font-size:13px;font-weight:800;padding:9px 20px;border-radius:20px;text-decoration:none;box-shadow:0 2px 10px rgba(0,0,0,0.1);transition:all 0.2s;">â˜• Support ZenEd â€” keep it free for students</a>
  <div style="font-size:11px;color:#aaa;margin-top:6px;">Every dollar keeps ZenEd free for students who can't afford tutors.</div>
</div>
</footer>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// USAGE TRACKING (localStorage â€” no server needed)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function track(event, data) {
  try {
    const log = JSON.parse(localStorage.getItem('zened_events') || '[]');
    log.push({ event, data, ts: new Date().toISOString() });
    localStorage.setItem('zened_events', JSON.stringify(log.slice(-200))); // keep last 200
  } catch(e) {}
}
// You can view analytics any time in the browser console:
// JSON.parse(localStorage.getItem('zened_events'))

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// FLOW STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// â”€â”€ NYâ†’M+ SCALE â”€â”€
const NY_SCALE = [
  {label:'NY',  num:45,  color:'red',    pass:false},
  {label:'NY+', num:57,  color:'red',    pass:false},
  {label:'L',   num:61,  color:'yellow', pass:false},
  {label:'L+',  num:63,  color:'yellow', pass:false},
  {label:'D',   num:66,  color:'yellow', pass:true},
  {label:'D+',  num:68,  color:'yellow', pass:true},
  {label:'P',   num:72,  color:'green',  pass:true},
  {label:'P+',  num:77,  color:'green',  pass:true},
  {label:'M',   num:85,  color:'green',  pass:true},
  {label:'M+',  num:95,  color:'green',  pass:true},
];
function scaleFromNum(n){ return [...NY_SCALE].reverse().find(s=>n>=s.num)||NY_SCALE[0]; }
function toNum(val){
  const lbl=String(val).trim().toUpperCase();
  const found=NY_SCALE.find(s=>s.label===lbl);
  if(found)return found.num;
  const n=parseInt(val);
  return isNaN(n)?null:Math.max(0,Math.min(100,n));
}

// â”€â”€ SUBJECTS + UNITS â”€â”€
const SUBJS = {
  biology:    {name:'Biology', icon:'ğŸ§¬', units:[
    {id:'u1',emoji:'ğŸƒ',name:'Unit 1: Marathon Runner',   topic:'Homeostasis & Cellular Respiration', tip:'Gas exchange and cellular respiration appear on every Regents.', link:'https://www.newvisions.org/curriculum/science/biology', khan:'https://www.khanacademy.org/science/ap-biology/cellular-energetics'},
    {id:'u2',emoji:'ğŸ¦ ',name:'Unit 2: Humans vs. Bacteria',topic:'Natural Selection & Antibiotic Resistance',tip:'Know the Rock Pocket Mice experiment â€” it\'s on the Regents.', link:'https://www.newvisions.org/curriculum/science/biology', khan:'https://www.khanacademy.org/science/ap-biology/natural-selection'},
    {id:'u3',emoji:'ğŸ§¬',name:'Unit 3: Sick Humans',        topic:'DNA Structure & Protein Synthesis',  tip:'DNAâ†’RNAâ†’Protein is essential. Practice CER writing too.', link:'https://www.newvisions.org/curriculum/science/biology', khan:'https://www.khanacademy.org/science/ap-biology/gene-expression-and-regulation'},
    {id:'u4',emoji:'ğŸ¦',name:'Unit 4: Mountain Lion',      topic:'Meiosis, Mitosis & Genetics',        tip:'Punnett squares appear every year. Know mitosis vs meiosis.', link:'https://www.newvisions.org/curriculum/science/biology', khan:'https://www.khanacademy.org/science/ap-biology/heredity'},
    {id:'u5',emoji:'ğŸŒ±',name:'Unit 5: Food for All',        topic:'Photosynthesis & Ecosystems',        tip:'Photosynthesis and food webs are high-frequency Regents topics.', link:'https://www.newvisions.org/curriculum/science/biology', khan:'https://www.khanacademy.org/science/ap-biology/cellular-energetics/photosynthesis'},
    {id:'u6',emoji:'ğŸ¦£',name:'Unit 6: Woolly Mammoth',     topic:'Biodiversity & Human Impact',        tip:'Human impact on ecosystems is common in the last Regents section.', link:'https://www.newvisions.org/curriculum/science/biology', khan:'https://www.khanacademy.org/science/ap-biology/ecology'},
  ]},
  algebra:    {name:'Algebra 1', icon:'ğŸ“', units:[
    {id:'a1',emoji:'ğŸ“',name:'Linear Equations & Systems', topic:'Linear Equations, Inequalities, Word Problems', tip:'Systems of equations appear every year. Practice writing from word problems.', link:'https://www.khanacademy.org/math/algebra/x2f8bb11595b61c86:linear-equations-graphs', khan:'https://www.khanacademy.org/math/algebra'},
    {id:'a2',emoji:'ğŸ“ˆ',name:'Functions & Quadratics',      topic:'Functions, Quadratics, Factoring',    tip:'Know how to factor and use the quadratic formula.', link:'https://www.khanacademy.org/math/algebra/x2f8bb11595b61c86:quadratic-functions-equations', khan:'https://www.khanacademy.org/math/algebra'},
    {id:'a3',emoji:'ğŸ“Š',name:'Statistics & Data',           topic:'Statistics, Scatter Plots, Probability', tip:'Statistics questions are worth a lot â€” students often skip them.', link:'https://www.khanacademy.org/math/statistics-probability', khan:'https://www.khanacademy.org/math/algebra'},
  ]},
  ela:        {name:'English ELA', icon:'ğŸ“–', units:[
    {id:'e1',emoji:'ğŸ“–',name:'Reading & Text Analysis',   topic:'Reading Comprehension, Literary Analysis', tip:'Read questions BEFORE the passage â€” saves time and focuses reading.', link:'https://www.regentsprep.org/ela/', khan:'https://www.khanacademy.org/ela'},
    {id:'e2',emoji:'âœï¸',name:'Writing & Argumentation',  topic:'Argument Essay, Evidence & Reasoning', tip:'Your essay needs a clear claim, 3 pieces of evidence, and a counterargument.', link:'https://www.regentsprep.org/ela/', khan:'https://www.khanacademy.org/ela'},
    {id:'e3',emoji:'ğŸ”¤',name:'Grammar & Editing',          topic:'Revising & Editing, Grammar',          tip:'Revising & Editing is the most coachable part of ELA. Practice eliminating redundancy.', link:'https://www.regentsprep.org/ela/', khan:'https://www.khanacademy.org/ela'},
  ]},
  us_history: {name:'US History', icon:'ğŸ‡ºğŸ‡¸', units:[
    {id:'h1',emoji:'ğŸ›ï¸',name:'Foundations to Civil War',  topic:'Constitution, Civil War, Reconstruction', tip:'Know the major turning points â€” Constitution, Civil War causes.', link:'https://www.khanacademy.org/humanities/us-history', khan:'https://www.khanacademy.org/humanities/us-history'},
    {id:'h2',emoji:'ğŸ­',name:'Industrial Era to WWII',    topic:'Progressive Era, Great Depression, WWII', tip:'The Great Depression and New Deal appear on almost every Regents.', link:'https://www.khanacademy.org/humanities/us-history', khan:'https://www.khanacademy.org/humanities/us-history'},
    {id:'h3',emoji:'ğŸŒ',name:'Cold War to Modern',         topic:'Cold War, Civil Rights, DBQ Skills',   tip:'DBQ â€” always tie your answer back to the document AND historical context.', link:'https://www.khanacademy.org/humanities/us-history', khan:'https://www.khanacademy.org/humanities/us-history'},
  ]},
  shsat:      {name:'SHSAT Prep', icon:'ğŸ«', units:[
    {id:'s1',emoji:'ğŸ“',name:'ELA & Scrambled Paragraphs', topic:'Scrambled Paragraphs, Reading, Editing', tip:'Scrambled Paragraphs are unique to SHSAT â€” practice this daily.', link:'https://www.khanacademy.org/prep/shsat', khan:'https://www.khanacademy.org/prep/shsat'},
    {id:'s2',emoji:'ğŸ”¢',name:'Math',                       topic:'Algebra, Geometry, Word Problems',    tip:'SHSAT math is harder than Regents Algebra. Focus on multi-step word problems.', link:'https://www.khanacademy.org/prep/shsat', khan:'https://www.khanacademy.org/prep/shsat'},
  ]},
};

let goals = [], selSubjs = [], selUnits = [], unitScores = {}, unitIdx = 0;

function goTo(id) {
  document.querySelectorAll('.flow-screen').forEach(s => s.classList.remove('active'));
  const s1 = document.getElementById('s1');
  if (id === 's1') { s1.style.display = 'block'; }
  else { s1.style.display = 'none'; document.getElementById(id).classList.add('active'); }
  window.scrollTo({top:0, behavior:'smooth'});
}

function resetFlow() {
  goals = []; selSubjs = []; selUnits = []; unitScores = {}; unitIdx = 0;
  document.querySelectorAll('.goal-card,.subj-card').forEach(c => c.classList.remove('selected'));
  document.getElementById('startBtn').disabled = true;
  document.getElementById('s1').style.display = 'block';
  document.querySelectorAll('.flow-screen').forEach(s => s.classList.remove('active'));
}

// â”€â”€ GOAL SELECTION â”€â”€
function toggleGoal(id, el) {
  el.classList.toggle('selected');
  if (goals.includes(id)) goals = goals.filter(g => g !== id);
  else goals.push(id);
  document.getElementById('startBtn').disabled = goals.length === 0;
  track('goal_toggle', {goal:id, allGoals:[...goals]});
}

function startFlow() {
  track('flow_start', {goals:[...goals]});
  if (goals.includes('summer') && goals.length === 1) { window.location.href='resources.html'; return; }
  if (goals.includes('summer')) window.open('resources.html','_blank');
  if (goals.includes('regents')) goTo('s2');
  else { buildResults(); goTo('s4'); }
}

// â”€â”€ SUBJECT SELECTION â”€â”€
function toggleSubj(id, el) {
  el.classList.toggle('selected');
  if (selSubjs.includes(id)) selSubjs = selSubjs.filter(s => s !== id);
  else selSubjs.push(id);
  document.getElementById('s2Next').disabled = selSubjs.length === 0;
}

function goS2b() {
  // Build unit picker for selected subjects
  selUnits = [];
  const allUnits = selSubjs.flatMap(sId => (SUBJS[sId]?.units||[]).map(u=>({...u, subjId:sId, subjName:SUBJS[sId].name, subjIcon:SUBJS[sId].icon})));
  const title = selSubjs.length === 1 ? `${SUBJS[selSubjs[0]].icon} ${SUBJS[selSubjs[0]].name} â€” which units?` : 'Which units have you covered?';
  document.getElementById('s2bTitle').textContent = title;
  document.getElementById('unitGrid').innerHTML = allUnits.map(u => `
    <button class="subj-card" onclick="toggleUnit('${u.subjId}|${u.id}',this)" style="text-align:left">
      <div class="subj-card-check">âœ“</div>
      <div class="subj-icon">${u.emoji}</div>
      <div class="subj-name" style="font-size:12px;line-height:1.3">${u.name.replace(/Unit \d+: /,'')}</div>
      ${selSubjs.length > 1 ? `<div style="font-size:10px;color:var(--gray);margin-top:3px">${u.subjIcon} ${u.subjName}</div>` : ''}
    </button>`).join('');
  goTo('s2b');
}

function toggleUnit(key, el) {
  el.classList.toggle('selected');
  if (selUnits.includes(key)) selUnits = selUnits.filter(u => u !== key);
  else selUnits.push(key);
  document.getElementById('s2bNext').disabled = selUnits.length === 0;
}

// â”€â”€ GRADE INPUT â”€â”€
function goS3() {
  track('units_selected', {units:[...selUnits]});
  unitIdx = 0;
  renderUnitCard();
  goTo('s3');
}

function getUnitData(key) {
  const [subjId, unitId] = key.split('|');
  const subj = SUBJS[subjId];
  const unit = subj?.units?.find(u => u.id === unitId);
  return {subjId, subj, unit};
}

function renderUnitCard() {
  const key = selUnits[unitIdx];
  const {subjId, subj, unit} = getUnitData(key);
  const total = selUnits.length;
  const pct = Math.round(50 + (unitIdx / total) * 45);
  document.getElementById('pFill').style.width = pct + '%';
  document.getElementById('s3Sub').textContent = `Grade ${unitIdx+1} of ${total} â€” ${subj.name}`;
  const saved = unitScores[key] || '';
  document.getElementById('s3Card').innerHTML = `
    <div class="score-wrap" style="margin-bottom:20px">
      <div style="display:flex;align-items:center;gap:10px;margin-bottom:4px">
        <span style="font-size:28px">${unit.emoji}</span>
        <div>
          <div class="score-subj-name" style="font-size:17px">${unit.name}</div>
          <div style="font-size:12px;color:var(--teal);font-weight:600">${unit.topic}</div>
        </div>
      </div>
      <div style="font-size:12px;color:var(--gray);margin-bottom:16px;padding:10px;background:var(--gray-light);border-radius:8px">
        ğŸ’¡ <em>${unit.tip}</em>
      </div>

      <div style="font-size:12px;font-weight:700;color:var(--gray);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px">Your grade on this unit:</div>

      <!-- NY scale tap buttons -->
      <div style="display:flex;gap:6px;flex-wrap:wrap;margin-bottom:12px">
        ${NY_SCALE.map(s=>{
          const clr = s.color==='red'?'#dc2626':s.color==='yellow'?'#d97706':'#059669';
          const isOn = saved===s.label;
          return `<button onclick="tapUnit('${key}','${s.label}',this)"
            style="padding:8px 14px;border:2px solid ${isOn?'var(--black)':clr};border-radius:20px;font-size:13px;font-weight:800;cursor:pointer;background:${isOn?'var(--black)':'white'};color:${isOn?'white':clr};font-family:'Plus Jakarta Sans',sans-serif;transition:all 0.15s"
            class="unit-scale-btn" data-key="${key}" data-lbl="${s.label}">${s.label}</button>`;
        }).join('')}
      </div>

      <div style="font-size:11px;color:var(--gray);margin-bottom:10px;text-align:center">â€” or enter a number â€”</div>
      <input type="number" id="uInp" placeholder="e.g. 72" min="0" max="100"
        value="${/^\d+$/.test(saved)?saved:''}"
        style="width:100%;padding:12px;border:1.5px solid var(--border);border-radius:10px;font-size:16px;font-weight:700;text-align:center;font-family:'Plus Jakarta Sans',sans-serif;outline:none"
        oninput="unitScores['${key}']=this.value;clearScaleBtns('${key}')"
        onkeypress="if(event.key==='Enter')nextUnit()">
      <div id="gradePreview_${unitIdx}" style="text-align:center;font-size:13px;font-weight:700;margin-top:8px;min-height:20px"></div>
    </div>`;
  document.getElementById('backBtn').style.visibility = unitIdx === 0 ? 'hidden' : 'visible';
  const isLast = unitIdx === selUnits.length - 1;
  document.getElementById('s3Next').textContent = isLast ? 'See my results â†’' : 'Next unit â†’';
  updatePreview(key, unitIdx);
}

function tapUnit(key, lbl, btn) {
  unitScores[key] = lbl;
  document.querySelectorAll(`.unit-scale-btn[data-key="${key}"]`).forEach(b => {
    const isOn = b.dataset.lbl === lbl;
    const sc = NY_SCALE.find(s=>s.label===b.dataset.lbl);
    const clr = sc?.color==='red'?'#dc2626':sc?.color==='yellow'?'#d97706':'#059669';
    b.style.background = isOn ? 'var(--black)' : 'white';
    b.style.color = isOn ? 'white' : clr;
    b.style.borderColor = isOn ? 'var(--black)' : clr;
  });
  const inp = document.getElementById('uInp');
  if(inp) inp.value = '';
  updatePreview(key, unitIdx);
}

function clearScaleBtns(key) {
  document.querySelectorAll(`.unit-scale-btn[data-key="${key}"]`).forEach(b => {
    const sc = NY_SCALE.find(s=>s.label===b.dataset.lbl);
    const clr = sc?.color==='red'?'#dc2626':sc?.color==='yellow'?'#d97706':'#059669';
    b.style.background = 'white'; b.style.color = clr; b.style.borderColor = clr;
  });
  const inp = document.getElementById('uInp');
  if(inp) unitScores[key] = inp.value;
  updatePreview(key, unitIdx);
}

function updatePreview(key, idx) {
  const prev = document.getElementById('gradePreview_'+idx);
  if(!prev) return;
  const raw = unitScores[key];
  if(!raw){prev.innerHTML='';return;}
  const num = toNum(raw);
  if(num===null){prev.innerHTML='<span style="color:#dc2626">â“ invalid</span>';return;}
  const sc = scaleFromNum(num);
  const clr = sc.color==='red'?'#dc2626':sc.color==='yellow'?'#d97706':'#059669';
  prev.innerHTML = `<span style="color:${clr}">${sc.pass?'âœ“ Passing':'âœ— Not passing yet'} Â· ${sc.label} Â· ${num}%</span>`;
}

function nextUnit() {
  const key = selUnits[unitIdx];
  const inp = document.getElementById('uInp');
  if(inp?.value) unitScores[key] = inp.value;
  if(!unitScores[key]) return toast('Please enter a grade first','error');
  if(unitIdx < selUnits.length - 1) { unitIdx++; renderUnitCard(); }
  else { track('grades_entered',{scores:{...unitScores}}); buildResults(); goTo('s4'); }
}

function prevUnit() {
  if(unitIdx > 0) { unitIdx--; renderUnitCard(); }
  else goTo('s2b');
}

// â”€â”€ BUILD RESULTS â”€â”€
function buildResults() {
  document.getElementById('regentsResults').style.display = goals.includes('regents') ? 'block' : 'none';
  if (!goals.includes('regents') || !selUnits.length) return;

  const unitResults = selUnits.map(key => {
    const {subjId, subj, unit} = getUnitData(key);
    const raw = unitScores[key];
    const num = toNum(raw) ?? 0;
    const sc = scaleFromNum(num);
    return {key, subjId, subj, unit, num, sc};
  });

  const atRisk = unitResults.filter(r => !r.sc.pass).length;
  const onTrack = unitResults.filter(r => r.sc.color === 'green').length;

  let emoji, title, sub;
  if(atRisk===0 && onTrack===unitResults.length){emoji='ğŸ‰';title="You're on track!";sub="Your unit grades look solid. Keep studying and you'll pass.";}
  else if(atRisk===0){emoji='âš ï¸';title="You're passing â€” don't get comfortable.";sub="Some units are borderline. A bit more work and you'll be safe.";}
  else if(atRisk===unitResults.length){emoji='ğŸš¨';title="You need to start studying now.";sub="Multiple units are below passing â€” but you have time to turn it around.";}
  else{emoji='ğŸ“Š';title=`${atRisk} unit${atRisk>1?'s':''} need your attention.`;sub="Focus on the red ones first â€” they're pulling your grade down.";}

  document.getElementById('rEmoji').textContent=emoji;
  document.getElementById('rTitle').textContent=title;
  document.getElementById('rSub').textContent=sub;

  const colors={red:'#dc2626',yellow:'#d97706',green:'#059669'};
  const bgs={red:'#fff1f2',yellow:'#fffbeb',green:'#f0fdf4'};

  document.getElementById('rCards').innerHTML = unitResults.map(({subj, unit, num, sc}) => {
    const gap = !sc.pass ? `Need ${65-num} more points to pass` : sc.color==='yellow' ? `${num-65} pts above passing â€” aim for P+ (75)` : 'On track!';
    return `<div class="rcard ${sc.color}">
      <div class="rcard-left">
        <div style="font-size:11px;font-weight:700;color:var(--gray);text-transform:uppercase;letter-spacing:1px;margin-bottom:2px">${subj.icon} ${subj.name}</div>
        <div class="rcard-subj">${unit.emoji} ${unit.name.replace(/Unit \d+: /,'')}</div>
        <div style="font-size:11px;color:${colors[sc.color]};font-weight:600;margin-bottom:2px">${unit.topic}</div>
        <div class="rcard-status" style="color:${colors[sc.color]}">${sc.pass?'âœ“':'âœ—'} ${sc.label} â€” ${sc.pass?'Passing':'Not passing'}</div>
        <div class="rcard-action">${gap}</div>
      </div>
      <div class="rcard-score" style="color:${colors[sc.color]}">${sc.label}</div>
    </div>`;
  }).join('');

  // Study plan â€” worst units first
  const needsWork = [...unitResults].sort((a,b)=>a.num-b.num).filter(r=>r.num<75).slice(0,3);
  if(!needsWork.length) {
    document.getElementById('studyPanel').innerHTML=`<div class="panel-title">ğŸ“– Keep up your streak</div><p style="font-size:13px;color:var(--gray)">All units are passing! Do 15 min of review per unit each night before the exam.</p>`;
  } else {
    document.getElementById('studyItems').innerHTML = needsWork.map(({subj,unit,num,sc})=>{
      const dotC = sc.color;
      return `<div class="study-item">
        <div class="sdot ${dotC}"></div>
        <div>
          <div class="study-name">${unit.emoji} ${unit.name} â€” <em>${unit.topic}</em></div>
          <div style="font-size:11px;color:var(--gray);margin:2px 0 4px">${unit.tip}</div>
          <div style="display:flex;gap:8px;flex-wrap:wrap">
            <a href="${unit.link}" target="_blank" class="study-link">ğŸ“– New Visions â†’</a>
            <a href="${unit.khan}" target="_blank" class="study-link" style="color:var(--gray)">ğŸŸ¢ Khan Academy â†’</a>
          </div>
        </div>
      </div>`;
    }).join('');
  }
  track('results_viewed',{goals:[...goals],atRisk,onTrack,total:unitResults.length});
}


// â”€â”€ RESOURCE BROWSER â”€â”€
const RES = [
  {cat:'internship',icon:'ğŸ’¼',name:'SYEP â€” Paid Summer Jobs',tags:['paid','hot'],url:'https://www.nyc.gov/site/dycd/services/jobs-internships/summer-youth-employment-program-syep.page'},
  {cat:'internship',icon:'â„ï¸',name:'Snow.day â€” 500+ Free Programs',tags:['free'],url:'https://snow.day'},
  {cat:'internship',icon:'ğŸ”§',name:'Hk Maker Lab â€” Columbia',tags:['free','stem'],url:'https://hkmakerlab.columbia.edu'},
  {cat:'internship',icon:'ğŸ”¬',name:'NYAS Junior Academy',tags:['free','stem'],url:'https://www.nyas.org/programs/global-stem-alliance/junior-academy/'},
  {cat:'internship',icon:'ğŸ§¬',name:'NYC Science Research',tags:['free','stem'],url:'https://scienceresearchmentoring.org'},
  {cat:'scholarship',icon:'ğŸ†',name:'Fastweb â€” 1.5M Scholarships',tags:['free'],url:'https://www.fastweb.com'},
  {cat:'scholarship',icon:'âœ¨',name:'Bold.org â€” No-Essay Awards',tags:['free'],url:'https://bold.org'},
  {cat:'scholarship',icon:'ğŸ“ˆ',name:'Raise.me â€” Earn Now in 9th',tags:['free'],url:'https://www.raise.me'},
  {cat:'scholarship',icon:'ğŸ“',name:'CUNY Excelsior â€” Free Tuition',tags:['free'],url:'https://www.hesc.ny.gov'},
  {cat:'scholarship',icon:'ğŸ“‹',name:'FAFSA â€” Federal Aid',tags:['free'],url:'https://studentaid.gov'},
  {cat:'sat',icon:'ğŸ“',name:'Khan Academy SAT (Official)',tags:['free'],url:'https://www.khanacademy.org/sat'},
  {cat:'sat',icon:'ğŸ’»',name:'Bluebook â€” Digital SAT Tests',tags:['free'],url:'https://bluebook.collegeboard.org'},
  {cat:'sat',icon:'ğŸ“Š',name:'Free ACT Practice Tests',tags:['free'],url:'https://www.act.org/content/act/en/products-and-services/the-act/test-preparation/free-act-test-prep.html'},
  {cat:'college',icon:'ğŸ“',name:'NYC College Access Centers',tags:['free'],url:'https://www.schools.nyc.gov/enrollment/high-school/college-access-centers'},
  {cat:'college',icon:'ğŸ“',name:'Common App â€” 1,000+ Colleges',tags:['free'],url:'https://www.commonapp.org'},
  {cat:'college',icon:'ğŸ›ï¸',name:'CUNY College Now â€” Free Credits',tags:['free'],url:'https://www.cuny.edu/about/administration/offices/k16/college-now/'},
  {cat:'study',icon:'ğŸŸ¢',name:'Khan Academy â€” All Subjects',tags:['free'],url:'https://www.khanacademy.org'},
  {cat:'study',icon:'ğŸ”¬',name:'LabXchange â€” Harvard Science Labs',tags:['free','stem'],url:'https://www.labxchange.org/c/ngss?subject=life-sciences&grade=grades-9-12'},
  {cat:'study',icon:'ğŸ“–',name:'Regents Prep + Past Exams',tags:['free'],url:'https://www.regentsprep.org'},
  {cat:'graduate',icon:'ğŸ…',name:'Portrait of a Graduate (NYSED)',tags:['free'],url:'https://www.nysed.gov/next-generation-learning-standards'},
  {cat:'graduate',icon:'âš™ï¸',name:'CTE Programs â€” 400+ Pathways',tags:['free'],url:'https://www.schools.nyc.gov/learning/programs/career-and-technical-education'},
  {cat:'graduate',icon:'ğŸ’»',name:'P-TECH â€” Free Associate Degree',tags:['free','stem'],url:'https://www.ptech.org'},
];
let activeResCat = 'all';
function filterRes(cat, btn) {
  activeResCat = cat;
  document.querySelectorAll('.res-pill').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  renderResGrid();
  track('resource_filter', {cat});
}
function renderResGrid() {
  const filtered = activeResCat==='all' ? RES : RES.filter(r=>r.cat===activeResCat);
  document.getElementById('resGrid').innerHTML = filtered.slice(0,6).map(r=>`
    <a href="${r.url}" target="_blank" class="rc" onclick="track('resource_click',{name:'${r.name}',cat:'${r.cat}'})">
      <div class="rc-icon">${r.icon}</div>
      <div class="rc-name">${r.name}</div>
      <div class="rc-tags">${r.tags.map(t=>`<span class="rc-tag ${t==='hot'?'hot':t==='paid'?'paid':t==='stem'?'stem':'free'}">${t==='hot'?'âš¡ Apply now':t==='paid'?'ğŸ’° Paid':t==='stem'?'STEM':'Free'}</span>`).join('')}</div>
    </a>`).join('');
}
renderResGrid();
</script>
</body>
</html>
